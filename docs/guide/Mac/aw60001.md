# 安装软件提示已损坏无法打开
### 安装软件提示“应用程序”已损坏 无法打开 应该将它移到废纸篓

::: tip
这是Mac的安全隔离功能
:::

#### 如果你仍然想打开此软件，请确保软件来源安全
- 允许从“任何来源”下载的应用程序
    - 打开终端输入`sudo spctl --master-disable`
    - 输入你的密码（终端中输入密码不显示）

- 打开 系统设置>隐私与安全性>安全性
    - 选中 任何来源

- 删除文件隔离属性
    - 打开终端输入`sudo xattr -d -r com.apple.quarantine `然后把App拖进去会自动识别路径 
    - 会显示`sudo xattr -d -r com.apple.quarantine /Applications/name.app`

- 打开你想打开的那个app
    - 如果依然提示不能打开 再次前往 系统设置>隐私与安全性>安全性 在新多出来提示中选择 `仍然打开`

- 如果你的app出现了 直接崩溃退出 的情况 不妨试试重新签名
    - 如果你没有安装xcode 需要先安装一下签名工具
    - 打开终端输入 `xcode-select --install`
    - 耐心等待安装完成后对app进行签名
    - 打开终端输入`sudo codesign --force --deep --sign - `然后把App拖进去会自动识别路径 
    - 会显示`sudo codesign --force --deep --sign - /Applications/name.app`
  

#### xattr命令解释
> 这个命令是在 macOS 操作系统中使用的命令，用于删除应用程序或文件上的 "com.apple.quarantine" 扩展属性。"com.apple.quarantine" 扩展属性是一种用于跟踪应用程序或文件的下载来源和安全性的标记。

> 具体来说，这个命令的各个部分含义如下：

> - `sudo`：这是一个用于以超级用户权限运行命令的关键字。在执行需要管理员权限的命令时，你需要在命令前面加上 `sudo`，然后输入管理员密码以确认权限。

> - `xattr`：这是一个用于管理文件扩展属性的命令。扩展属性是一种用于存储文件附加信息的机制，可以包括文件的元数据、访问权限和安全信息等。

> - `-dr`：这是 `xattr` 命令的选项。具体含义如下：
>   - `-d`：表示删除扩展属性。
>   - `-r`：表示递归地删除目录中的所有文件的扩展属性。

> - `com.apple.quarantine`：这是要删除的扩展属性的名称，它用于存储应用程序或文件的下载来源信息以及是否来自可信来源的标记。删除这个属性可以帮助解决一些应用程序可能出现的安装或运行问题，特别是当 macOS 认为应用程序不来自可信来源时。

> - `/Applications/name.app`：这是你要删除扩展属性的目标应用程序或文件的路径。在这个例子中，它指定了一个名为 "name.app" 的应用程序在 "/Applications" 目录下。

> 总之，这个命令的作用是删除指定应用程序的 "com.apple.quarantine" 扩展属性，以解决一些安装或运行问题，但要小心使用 `sudo` 命令，确保你知道在执行此类操作时可能会引发的潜在风险。
